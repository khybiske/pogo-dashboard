<!-- GENERATED: 2026-02-18-2220-SPRITE-PREVIEW-AND-LOGGING -->
<!-- Added sprite preview in Power-Up modal -->
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MachoMankey's PoGo Dashboard</title>
<link rel="stylesheet" href="styles.css">
<link rel="icon" type="image/png" sizes="32x32" href="favicon.png">
<link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-title" content="PoGo Dashboard">
</head>
  <!-- Header -->
  <div class="header">
    <h1>âš¡ POKEMON GO DASHBOARD</h1>
    <div class="trainer-info">MachoMankey â€¢ Level <span class="trainer-level">71</span></div>
    <div class="status-badge status-loading" id="syncStatus">ğŸ”„ Syncing...</div>
    <div id="syncErrorDetail" class="sync-error-detail" style="display:none;"></div>
  </div>

  <!-- Current Events -->
  <div class="section">
    <div class="section-header" onclick="toggleSection(this)">
      <h2>ğŸ“… Current Events</h2>
      <span class="collapse-icon">â–¼</span>
    </div>
    <div class="section-content">
      <div class="event-quick-info">
        <h4>ğŸ—“ï¸ This Week's Events</h4>
        <div id="eventsList"><div class="loading">Loadingâ€¦</div></div>
      </div>
      <div class="weekly-helper">
        <span class="weekly-helper-text">ğŸ¤– Weekly update: Copy prompt â†’ AI + graphic â†’ paste to sheet</span>
        <button class="btn btn-small" onclick="copyPromptToClipboard()">ğŸ“‹ Copy Prompt</button>
      </div>
      <div class="event-links">
        <a href="https://leekduck.com/events/" target="_blank" class="event-link">ğŸ¦† LeekDuck</a>
        <a href="https://pokemongohub.net/" target="_blank" class="event-link">ğŸ“° PoGo Hub</a>
      </div>
      <div style="text-align:center;margin-top:12px;">
        <button class="btn btn-small" onclick="window.open(SHEET_URL,'_blank')">ğŸ“Š Open Sheet</button>
        <button class="btn btn-small" onclick="loadAllData()">ğŸ”„ Refresh</button>
      </div>
    </div>
  </div>

  <!-- Power-Up Priority -->
  <div class="section">
    <div class="section-header" onclick="toggleSection(this)">
      <h2>âš¡ Power-Up Priority</h2>
      <span class="collapse-icon">â–¼</span>
    </div>
    <div class="section-content">
      <div id="powerUpContent" style="margin-top:6px;">
        <div class="loading">Loadingâ€¦</div>
      </div>
      <div class="section-footer">
        <button class="btn btn-small" onclick="showAddPowerUpModal()">â• Add Pokemon</button>
        <label class="archive-toggle">
          <input type="checkbox" id="showArchivedPowerUp" onchange="renderPowerUp()"> Show Archived
        </label>
      </div>
    </div>
  </div>

  <!-- Rare Candy -->
  <div class="section">
    <div class="section-header" onclick="toggleSection(this)">
      <h2>ğŸ¬ Rare Candy</h2>
      <span class="collapse-icon">â–¼</span>
    </div>
    <div class="section-content">
      <!-- Zone 1: Inventory -->
      <div id="rcInventoryBar" style="display:flex;align-items:center;gap:16px;padding:10px 14px;background:#f8f9fa;border-radius:8px;margin-bottom:12px;flex-wrap:wrap;">
        <span style="font-size:13px;color:#718096;font-weight:600;">Inventory:</span>
        <span id="rcRegularDisplay" style="font-size:15px;font-weight:700;">â³</span>
        <span style="font-size:13px;color:#999;">regular RC</span>
        <span style="color:#ddd;">â”‚</span>
        <span id="rcXLDisplay" style="font-size:15px;font-weight:700;">â³</span>
        <span style="font-size:13px;color:#999;">XL RC</span>
        <button class="btn btn-small" onclick="showRCInventoryModal()" style="margin-left:auto;">âœï¸ Update</button>
      </div>
      <!-- Zone 2: Adventure Effect Reserves -->
      <div style="margin-bottom:12px;">
        <div style="font-size:12px;font-weight:700;color:#718096;text-transform:uppercase;letter-spacing:0.5px;margin-bottom:6px;">
          ğŸ® Adventure Effect Reserves <span style="font-size:10px;font-weight:400;">(regular RC only â€” held back from allocation)</span>
        </div>
        <div id="rcReservesContent"><div class="loading">Loadingâ€¦</div></div>
        <button class="btn btn-small" onclick="showAddReserveModal()" style="margin-top:6px;">â• Add Reserve</button>
      </div>
      <!-- Zone 3: Allocation Plan -->
      <div>
        <div style="font-size:12px;font-weight:700;color:#718096;text-transform:uppercase;letter-spacing:0.5px;margin-bottom:6px;">
          ğŸ“Š Allocation Plan <span style="font-size:10px;font-weight:400;">(ğŸ† Leg/Myth checked + target level 50, sorted by priority)</span>
        </div>
        <div id="rcAllocationContent"><div class="loading">Loadingâ€¦</div></div>
      </div>
    </div>
  </div>


  <!-- Lucky Trade Management -->
  <section class="section">
    <div class="section-header" onclick="toggleSection(this)">
      <h2>ğŸ¤ Lucky Trade Management</h2>
      <span class="toggle-icon">â–¼</span>
    </div>
    <div class="section-content">
      
      <div style="margin-bottom: 20px;">
        <h3 style="font-size: 16px; margin-bottom: 8px; color: #667eea;">ğŸ” Pokemon I'm Looking For</h3>
        <button class="btn" onclick="showAddLuckyWantModal()" style="margin-bottom: 8px;">â• Add Pokemon</button>
        <div id="luckyWantsContent"></div>
      </div>
      
      <hr style="margin: 20px 0; border: none; border-top: 1px solid #333;">
      
      <div style="margin-bottom: 20px;">
        <h3 style="font-size: 16px; margin-bottom: 8px; color: #667eea;">ğŸª Mirror/Duplication Targets</h3>
        <button class="btn" onclick="showAddMirrorModal()" style="margin-bottom: 8px;">â• Add Mirror</button>
        <div id="mirrorTargetsContent"></div>
      </div>
      
      <hr style="margin: 20px 0; border: none; border-top: 1px solid #333;">
      
      <div style="margin-bottom: 20px;">
        <h3 style="font-size: 16px; margin-bottom: 8px; color: #667eea;">ğŸ‘¥ Lucky Friends Queue</h3>
        <button class="btn" onclick="showAddLuckyFriendModal()" style="margin-bottom: 8px;">â• Add Friend</button>
        <div id="luckyFriendsContent"></div>
      </div>
      
    </div>
  </section>
  <!-- Shiny Gaps -->
  <div class="section">
    <div class="section-header" onclick="toggleSection(this)">
      <h2>âœ¨ Community Day Shiny Gaps</h2>
      <span class="collapse-icon">â–¼</span>
    </div>
    <div class="section-content">
      <div style="margin-bottom:12px;">
        <button class="btn btn-small" onclick="window.open(SHEET_URL,'_blank')">ğŸ“Š Google Sheet</button>
        <button class="btn btn-small" onclick="loadAllData()">ğŸ”„ Refresh</button>
      </div>
      <div id="shinyGapsContent"><div class="loading">Loadingâ€¦</div></div>
    </div>
  </div>

</div>

<!-- Power-Up Modal -->
<div id="addPowerUpModal" class="modal">
  <div class="modal-content">
    <div class="modal-header">
      <h2 id="powerUpModalTitle">Add Power-Up Priority</h2>
      <span class="modal-close" onclick="closeModal('addPowerUpModal')">&times;</span>
    </div>
    <form id="powerUpForm" onsubmit="savePowerUp(event)">
      <input type="hidden" id="puEditIndex" value="">
      <div class="form-group">
        <label>Pokemon Name * <span class="form-hint">start typing...</span></label>
        <input type="text" class="form-control" id="puPokemon" required placeholder="e.g., Rayquaza" oninput="autoFillTypes()">
        <div id="typeAutoFill" class="type-auto-info"></div>
        <div id="spritePreview" style="margin-top:8px;display:none;">
          <img id="spritePreviewImg" style="width:64px;height:64px;image-rendering:pixelated;background:#0f3460;border-radius:4px;padding:4px;" />
          <div style="font-size:12px;color:#48BB78;margin-top:4px;">âœ“ Sprite loaded</div>
        </div>
      </div>
      <div class="form-group">
        <label>Regional Variant</label>
        <select class="form-control" id="puRegional" onchange="autoFillVariantSprite()">
          <option value="">None</option>
          <option>Alolan</option>
          <option>Galarian</option>
          <option>Hisuian</option>
          <option>Paldean</option>
        </select>
      </div>
      <div class="form-group">
        <label>Form <span class="form-hint">leave blank for base form</span></label>
        <select class="form-control" id="puForm" onchange="autoFillVariantSprite()">
          <option value="">Base</option>
          <option>Dusk Mane</option>
          <option>Dawn Wings</option>
          <option>Ultra</option>
          <option>White</option>
          <option>Black</option>
          <option>Origin</option>
          <option>Sky</option>
          <option>Attack</option>
          <option>Defense</option>
          <option>Speed</option>
          <option>Incarnate</option>
          <option>Therian</option>
        </select>
      </div>
      <div class="form-group">
        <label>Type(s) <span class="form-hint">comma separated</span></label>
        <input type="text" class="form-control" id="puTypes" placeholder="Auto-filled when Pokemon recognized">
      </div>
      <div class="form-group checkbox-grid">
        <label class="checkbox-label"><input type="checkbox" id="puLucky" onchange="calculateLevelFromStardust()"> ğŸ€ Lucky</label>
        <label class="checkbox-label"><input type="checkbox" id="puHundo"> ğŸ’¯ Hundo</label>
        <label class="checkbox-label"><input type="checkbox" id="puShiny"> âœ¨ Shiny</label>
        <label class="checkbox-label"><input type="checkbox" id="puShadow"> ğŸ‘¤ Shadow</label>
        <label class="checkbox-label"><input type="checkbox" id="puHasElite"> Â£ Has Legacy</label>
        <label class="checkbox-label"><input type="checkbox" id="puNeedsElite"> â— Needs Legacy</label>
        <label class="checkbox-label"><input type="checkbox" id="puNeedLucky"> ğŸ¤ Need Lucky</label>
        <label class="checkbox-label"><input type="checkbox" id="puDMAX"> ğŸ’ DMAX</label>
        <label class="checkbox-label"><input type="checkbox" id="puGMAX"> ğŸŒŸ GMAX</label>
        <label class="checkbox-label"><input type="checkbox" id="puLegendary"> ğŸ† Leg/Myth</label>
      </div>
      <div class="form-group">
        <label>IV % <span class="form-hint">0-100</span></label>
        <input type="number" class="form-control" id="puIV" min="0" max="100" step="1" placeholder="e.g., 98">
      </div>
      <div class="form-group">
        <label>Stardust Cost <span class="form-hint">to calculate level</span></label>
        <input type="number" class="form-control" id="puStardust" placeholder="e.g., 5000" oninput="calculateLevelFromStardust()">
        <div id="stardustHelper" class="type-auto-info"></div>
      </div>
      <div class="form-group">
        <label>Current Level * <span class="form-hint">or let stardust calculate it</span></label>
        <input type="number" class="form-control" id="puCurrentLevel" step="0.5" min="1" max="55" required>
      </div>
      <div class="form-group">
        <label>Target Level *</label>
        <input type="number" class="form-control" id="puTargetLevel" step="0.5" min="1" max="55" required>
      </div>
      <div class="form-group">
        <label>Priority <span class="form-hint">High = drop everything Â· Low = whenever</span></label>
        <select class="form-control" id="puPriority" required>
          <option value="High">ğŸ”´ High</option>
          <option value="Medium" selected>ğŸŸ¡ Medium</option>
          <option value="Low">ğŸ”µ Low</option>
        </select>
      </div>
      <div class="form-group">
        <label>Status</label>
        <select class="form-control" id="puStatus">
          <option>To Do</option>
          <option>In Progress</option>
          <option>Done</option>
        </select>
      </div>
      <div class="form-group">
        <label>Archived</label>
        <select class="form-control" id="puArchived">
          <option value="FALSE">Active</option>
          <option value="TRUE">Archived</option>
        </select>
      </div>
      <div class="form-group">
        <label>Notes</label>
        <input type="text" class="form-control" id="puNotes" placeholder="Optional notesâ€¦">
      </div>
      <button type="submit" class="btn">ğŸ’¾ Save</button>
    </form>
  </div>
</div>

<!-- RC Inventory Modal -->
<div id="rcInventoryModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal('rcInventoryModal')">&times;</span>
    <h2>Update Rare Candy Inventory</h2>
    <form id="rcInventoryForm" onsubmit="saveRCInventory(event)">
      <div class="form-group">
        <label>Regular Rare Candy ğŸ¬</label>
        <input type="number" class="form-control" id="rcRegularInput" min="0" placeholder="e.g., 70">
      </div>
      <div class="form-group">
        <label>XL Rare Candy ğŸ¬XL</label>
        <input type="number" class="form-control" id="rcXLInput" min="0" placeholder="e.g., 285">
      </div>
      <button type="submit" class="btn">ğŸ’¾ Save</button>
    </form>
  </div>
</div>

<!-- RC Reserve Modal -->
<div id="addReserveModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal('addReserveModal')">&times;</span>
    <h2 id="reserveModalTitle">Add Adventure Effect Reserve</h2>
    <form id="reserveForm" onsubmit="saveReserve(event)">
      <input type="hidden" id="reserveEditIndex" value="">
      <div class="form-group">
        <label>Pokemon Name *</label>
        <input type="text" class="form-control" id="reservePokemon" required placeholder="e.g., Palkia">
      </div>
      <div class="form-group">
        <label>Reserve Amount (regular RC) *</label>
        <input type="number" class="form-control" id="reserveAmount" min="0" required placeholder="e.g., 20">
      </div>
      <div class="form-group">
        <label>Notes</label>
        <input type="text" class="form-control" id="reserveNotes" placeholder="e.g., Spatial Rend farming">
      </div>
      <button type="submit" class="btn">ğŸ’¾ Save</button>
    </form>
  </div>
</div>


<!-- Lucky Want Modal -->
<div id="addLuckyWantModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal('addLuckyWantModal')">&times;</span>
    <h2 id="luckyWantModalTitle">Add Pokemon to Want List</h2>
    <form id="luckyWantForm" onsubmit="saveLuckyWant(event)">
      <input type="hidden" id="lwEditIndex" value="">
      <div class="form-group">
        <label>Pokemon Name *</label>
        <input type="text" class="form-control" id="lwPokemon" required>
      </div>
      <div class="form-group">
        <label>Reason</label>
        <select class="form-control" id="lwReason">
          <option value="Dex Entry">Dex Entry</option>
          <option value="Raid">Raid</option>
          <option value="PvP">PvP</option>
          <option value="Collection">Collection</option>
          <option value="Other">Other</option>
        </select>
      </div>
      <div class="form-group">
        <label>Priority</label>
        <select class="form-control" id="lwPriority">
          <option value="High">High</option>
          <option value="Medium">Medium</option>
          <option value="Low">Low</option>
        </select>
      </div>
      <div class="form-group">
        <label>Notes</label>
        <input type="text" class="form-control" id="lwNotes" placeholder="e.g., Ask Sarah">
      </div>
      <button type="submit" class="btn">ğŸ’¾ Save</button>
    </form>
  </div>
</div>

<!-- Mirror Target Modal -->
<div id="addMirrorModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal('addMirrorModal')">&times;</span>
    <h2 id="mirrorModalTitle">Add Mirror Target</h2>
    <form id="mirrorForm" onsubmit="saveMirrorTarget(event)">
      <input type="hidden" id="mtEditIndex" value="">
      <div class="form-group">
        <label>Pokemon Name *</label>
        <input type="text" class="form-control" id="mtPokemon" required oninput="autoFillMirrorTypes()">
      </div>
      <div class="form-group">
        <label>Types</label>
        <input type="text" class="form-control" id="mtTypes" placeholder="e.g., Dragon,Flying">
        <div class="type-auto-info" id="mtTypeAutoFill"></div>
      </div>
      <div class="form-group checkbox-grid">
        <label class="checkbox-label"><input type="checkbox" id="mtShiny"> âœ¨ Shiny</label>
        <label class="checkbox-label"><input type="checkbox" id="mtLegacy"> Â£ Legacy Move</label>
      </div>
      <div class="form-group">
        <label>Priority</label>
        <select class="form-control" id="mtPriority">
          <option value="High">ğŸ”´ High</option>
          <option value="Medium" selected>ğŸŸ¡ Medium</option>
          <option value="Low">ğŸ”µ Low</option>
        </select>
      </div>
      <div class="form-group">
        <label>Notes</label>
        <input type="text" class="form-control" id="mtNotes" placeholder="e.g., New shiny from CD">
      </div>
      <button type="submit" class="btn">ğŸ’¾ Save</button>
    </form>
  </div>
</div>

<!-- Lucky Friend Modal -->
<div id="addLuckyFriendModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal('addLuckyFriendModal')">&times;</span>
    <h2 id="luckyFriendModalTitle">Add Lucky Friend</h2>
    <form id="luckyFriendForm" onsubmit="saveLuckyFriend(event)">
      <input type="hidden" id="lfEditIndex" value="">
      <div class="form-group">
        <label>Friend Name *</label>
        <input type="text" class="form-control" id="lfFriend" required>
      </div>
      <div class="form-group">
        <label>They Want</label>
        <input type="text" class="form-control" id="lfTheyWant" placeholder="Pokemon they're looking for">
        <div style="display:flex;gap:12px;margin-top:6px;flex-wrap:wrap;">
          <label class="checkbox-label"><input type="checkbox" id="lfTheyShiny"> âœ¨ Shiny</label>
          <label class="checkbox-label"><input type="checkbox" id="lfTheyDMAX"> ğŸ’ DMAX</label>
          <label class="checkbox-label"><input type="checkbox" id="lfTheyGMAX"> ğŸŒŸ GMAX</label>
        </div>
      </div>
      <div class="form-group">
        <label>You Want</label>
        <input type="text" class="form-control" id="lfYouWant" placeholder="Pokemon you're looking for">
        <div style="display:flex;gap:12px;margin-top:6px;flex-wrap:wrap;">
          <label class="checkbox-label"><input type="checkbox" id="lfYouShiny"> âœ¨ Shiny</label>
          <label class="checkbox-label"><input type="checkbox" id="lfYouDMAX"> ğŸ’ DMAX</label>
          <label class="checkbox-label"><input type="checkbox" id="lfYouGMAX"> ğŸŒŸ GMAX</label>
        </div>
      </div>
      <div class="form-group">
        <label>Status</label>
        <select class="form-control" id="lfStatus">
          <option value="Planned">Planned</option>
          <option value="Waiting">Waiting</option>
          <option value="Complete">Complete</option>
        </select>
      </div>
      <div class="form-group">
        <label class="checkbox-label"><input type="checkbox" id="lfReady"> âœ… Ready to Trade</label>
      </div>
      <div class="form-group">
        <label>Trainer Image URL <span class="form-hint">optional â€” paste a hosted image link</span></label>
        <input type="text" class="form-control" id="lfTrainerImage" placeholder="e.g., https://drive.google.com/uc?id=...">
      </div>
      <div class="form-group">
        <label>Notes</label>
        <input type="text" class="form-control" id="lfNotes" placeholder="e.g., This weekend">
      </div>
      <button type="submit" class="btn">ğŸ’¾ Save</button>
    </form>
  </div>
</div>

<script src="app.js"></script>
</body>
</html>
