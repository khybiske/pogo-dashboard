<!-- GENERATED: 2026-02-18-1930-LUCKY-TRADES-V2-FIXED -->
<!-- FIXED: Modals now inside body tag -->
<!-- GENERATED: 2026-02-18-1745-LUCKY-TRADES-V1 -->
<!-- Lucky Trade Management with 3 subsections -->
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MachoMankey's PoGo Dashboard</title>
<link rel="stylesheet" href="styles.css">
</head>
<body>
<div class="container">

  <!-- Header -->
  <div class="header">
    <h1>âš¡ POKEMON GO DASHBOARD</h1>
    <div class="trainer-info">MachoMankey â€¢ Level <span class="trainer-level">71</span></div>
    <div class="status-badge status-loading" id="syncStatus">ğŸ”„ Syncing...</div>
    <div id="syncErrorDetail" class="sync-error-detail" style="display:none;"></div>
  </div>

  <!-- Current Events -->
  <div class="section">
    <div class="section-header" onclick="toggleSection(this)">
      <h2>ğŸ“… Current Events</h2>
      <span class="collapse-icon">â–¼</span>
    </div>
    <div class="section-content">
      <div class="event-quick-info">
        <h4>ğŸ—“ï¸ This Week's Events</h4>
        <div id="eventsList"><div class="loading">Loadingâ€¦</div></div>
      </div>
      <div class="weekly-helper">
        <span class="weekly-helper-text">ğŸ¤– Weekly update: Copy prompt â†’ AI + graphic â†’ paste to sheet</span>
        <button class="btn btn-small" onclick="copyPromptToClipboard()">ğŸ“‹ Copy Prompt</button>
      </div>
      <div class="event-links">
        <a href="https://leekduck.com/events/" target="_blank" class="event-link">ğŸ¦† LeekDuck</a>
        <a href="https://pokemongohub.net/" target="_blank" class="event-link">ğŸ“° PoGo Hub</a>
      </div>
      <div style="text-align:center;margin-top:12px;">
        <button class="btn btn-small" onclick="window.open(SHEET_URL,'_blank')">ğŸ“Š Open Sheet</button>
        <button class="btn btn-small" onclick="loadAllData()">ğŸ”„ Refresh</button>
      </div>
    </div>
  </div>

  <!-- Power-Up Priority -->
  <div class="section">
    <div class="section-header" onclick="toggleSection(this)">
      <h2>âš¡ Power-Up Priority</h2>
      <span class="collapse-icon">â–¼</span>
    </div>
    <div class="section-content">
      <div id="powerUpContent" style="margin-top:6px;">
        <div class="loading">Loadingâ€¦</div>
      </div>
      <div class="section-footer">
        <button class="btn btn-small" onclick="showAddPowerUpModal()">â• Add Pokemon</button>
        <label class="archive-toggle">
          <input type="checkbox" id="showArchivedPowerUp" onchange="renderPowerUp()"> Show Archived
        </label>
      </div>
    </div>
  </div>

  <!-- Rare Candy -->
  <div class="section">
    <div class="section-header" onclick="toggleSection(this)">
      <h2>ğŸ¬ Rare Candy Priority</h2>
      <span class="collapse-icon">â–¼</span>
    </div>
    <div class="section-content">
      <button class="btn btn-small" onclick="showAddCandyModal()">â• Add Pokemon</button>
      <div id="rareCandyContent" style="margin-top:10px;"><div class="loading">Loadingâ€¦</div></div>
    </div>
  </div>

  <!-- Lucky Trade Management -->
  <section class="section">
    <div class="section-header" onclick="toggleSection(this)">
      <h2>ğŸ¤ Lucky Trade Management</h2>
      <span class="toggle-icon">â–¼</span>
    </div>
    <div class="section-content">
      
      <!-- Subsection 1: Pokemon I'm Looking For -->
      <div style="margin-bottom: 24px;">
        <h3 style="font-size: 18px; margin-bottom: 12px; color: #667eea;">ğŸ” Pokemon I'm Looking For</h3>
        <div class="section-footer">
          <button class="btn" onclick="showAddLuckyWantModal()">â• Add Pokemon</button>
        </div>
        <div id="luckyWantsContent"></div>
      </div>
      
      <hr style="margin: 24px 0; border: none; border-top: 1px solid #333;">
      
      <!-- Subsection 2: Mirror/Duplication Targets -->
      <div style="margin-bottom: 24px;">
        <h3 style="font-size: 18px; margin-bottom: 12px; color: #667eea;">ğŸª Mirror/Duplication Targets</h3>
        <div class="section-footer">
          <button class="btn" onclick="showAddMirrorModal()">â• Add Mirror</button>
        </div>
        <div id="mirrorTargetsContent"></div>
      </div>
      
      <hr style="margin: 24px 0; border: none; border-top: 1px solid #333;">
      
      <!-- Subsection 3: Lucky Friends Queue -->
      <div style="margin-bottom: 24px;">
        <h3 style="font-size: 18px; margin-bottom: 12px; color: #667eea;">ğŸ‘¥ Lucky Friends Queue</h3>
        <div class="section-footer">
          <button class="btn" onclick="showAddLuckyFriendModal()">â• Add Friend</button>
        </div>
        <div id="luckyFriendsContent"></div>
      </div>
      
    </div>
  </section>
      <div class="form-group">
        <label>Pokemon Name * <span class="form-hint">start typing...</span></label>
        <input type="text" class="form-control" id="puPokemon" required placeholder="e.g., Rayquaza" oninput="autoFillTypes()">
        <div id="typeAutoFill" class="type-auto-info"></div>
      </div>
      <div class="form-group">
        <label>Type(s) <span class="form-hint">comma separated</span></label>
        <input type="text" class="form-control" id="puTypes" placeholder="Auto-filled when Pokemon recognized">
      </div>
      <div class="form-group checkbox-grid">
        <label class="checkbox-label"><input type="checkbox" id="puLucky"> ğŸ€ Lucky</label>
        <label class="checkbox-label"><input type="checkbox" id="puHundo"> ğŸ’¯ Hundo</label>
        <label class="checkbox-label"><input type="checkbox" id="puShiny"> âœ¨ Shiny</label>
        <label class="checkbox-label"><input type="checkbox" id="puShadow"> ğŸ‘¤ Shadow</label>
        <label class="checkbox-label"><input type="checkbox" id="puHasElite"> Â£ Has Legacy</label>
        <label class="checkbox-label"><input type="checkbox" id="puNeedsElite"> â— Needs Legacy</label>
        <label class="checkbox-label"><input type="checkbox" id="puNeedLucky"> ğŸ¤ Need Lucky</label>
      </div>
      <div class="form-group">
        <label>Current Level *</label>
        <input type="number" class="form-control" id="puCurrentLevel" step="0.5" min="1" max="55" required>
      </div>
      <div class="form-group">
        <label>Target Level *</label>
        <input type="number" class="form-control" id="puTargetLevel" step="0.5" min="1" max="55" required>
      </div>
      <div class="form-group">
        <label>Role</label>
        <select class="form-control" id="puRole">
          <option>Raid</option>
          <option>GMAX</option>
          <option>Buddy</option>
          <option>Other</option>
        </select>
      </div>
      <div class="form-group">
        <label>Priority <span class="form-hint">High = drop everything Â· Low = whenever</span></label>
        <select class="form-control" id="puPriority" required>
          <option value="High">ğŸ”´ High</option>
          <option value="Medium" selected>ğŸŸ¡ Medium</option>
          <option value="Low">ğŸ”µ Low</option>
        </select>
      </div>
      <div class="form-group">
        <label>Status</label>
        <select class="form-control" id="puStatus">
          <option>To Do</option>
          <option>In Progress</option>
          <option>Done</option>
        </select>
      </div>
      <div class="form-group">
        <label>Archived</label>
        <select class="form-control" id="puArchived">
          <option value="FALSE">Active</option>
          <option value="TRUE">Archived</option>
        </select>
      </div>
      <div class="form-group">
        <label>Notes</label>
        <input type="text" class="form-control" id="puNotes" placeholder="Optional notesâ€¦">
      </div>
      <button type="submit" class="btn">ğŸ’¾ Save</button>
    </form>
  </div>
</div>

<div id="addCandyModal" class="modal">
  <div class="modal-content">
    <div class="modal-header">
      <h2>Add Rare Candy Priority</h2>
      <span class="modal-close" onclick="closeModal('addCandyModal')">&times;</span>
    </div>
    <form id="candyForm" onsubmit="saveCandy(event)">
      <div class="form-group">
        <label>Pokemon Name *</label>
        <input type="text" class="form-control" id="candyPokemon" required placeholder="e.g., Dialga">
      </div>
      <div class="form-group">
        <label>Current Candy *</label>
        <input type="number" class="form-control" id="candyCurrent" min="0" required>
      </div>
      <div class="form-group">
        <label>Target Candy *</label>
        <input type="number" class="form-control" id="candyTarget" min="0" required>
      </div>
      <div class="form-group">
        <label>Notes</label>
        <input type="text" class="form-control" id="candyNotes" placeholder="e.g., Adventure Effect">
      </div>
      <button type="submit" class="btn">ğŸ’¾ Save</button>
    </form>
  </div>
</div>

<!-- Trade Modal -->
<div id="addTradeModal" class="modal">
  <div class="modal-content">
    <div class="modal-header">
      <h2>Add Trade Plan</h2>
      <span class="modal-close" onclick="closeModal('addTradeModal')">&times;</span>
    </div>
    <form id="tradeForm" onsubmit="saveTrade(event)">
      <div class="form-group">
        <label>Friend Name *</label>
        <input type="text" class="form-control" id="tradeFriend" required>
      </div>
      <div class="form-group">
        <label>What They Want</label>
        <input type="text" class="form-control" id="tradeTheyWant">
      </div>
      <div class="form-group">
        <label>What You Want</label>
        <input type="text" class="form-control" id="tradeYouWant">
      </div>
      <div class="form-group">
        <label>Notes</label>
        <input type="text" class="form-control" id="tradeNotes">
      </div>
      <div class="form-group">
        <label>Status</label>
        <select class="form-control" id="tradeStatus">
          <option>Planned</option>
          <option>Waiting</option>
          <option>Complete</option>
      <button type="submit" class="btn">ğŸ’¾ Save</button>
    </form>
  </div>
</div>

<!-- Lucky Want Modal -->
<div id="addLuckyWantModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal('addLuckyWantModal')">&times;</span>
    <h2 id="luckyWantModalTitle">Add Pokemon to Want List</h2>
    <form id="luckyWantForm" onsubmit="saveLuckyWant(event)">
      <input type="hidden" id="lwEditIndex" value="">
      <div class="form-group">
        <label>Pokemon Name *</label>
        <input type="text" class="form-control" id="lwPokemon" required>
      </div>
      <div class="form-group">
        <label>Reason</label>
        <select class="form-control" id="lwReason">
          <option value="Dex Entry">Dex Entry</option>
          <option value="Raid">Raid</option>
          <option value="PvP">PvP</option>
          <option value="Collection">Collection</option>
          <option value="Other">Other</option>
        </select>
      </div>
      <div class="form-group">
        <label>Priority</label>
        <select class="form-control" id="lwPriority">
          <option value="High">High</option>
          <option value="Medium">Medium</option>
          <option value="Low">Low</option>
        </select>
      </div>
      <div class="form-group">
        <label>Notes</label>
        <input type="text" class="form-control" id="lwNotes" placeholder="e.g., Ask Sarah">
      </div>
      <button type="submit" class="btn">ğŸ’¾ Save</button>
    </form>
  </div>
</div>

<!-- Mirror Target Modal -->
<div id="addMirrorModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal('addMirrorModal')">&times;</span>
    <h2 id="mirrorModalTitle">Add Mirror Target</h2>
    <form id="mirrorForm" onsubmit="saveMirrorTarget(event)">
      <input type="hidden" id="mtEditIndex" value="">
      <div class="form-group">
        <label>Pokemon Name *</label>
        <input type="text" class="form-control" id="mtPokemon" required oninput="autoFillMirrorTypes()">
      </div>
      <div class="form-group">
        <label>Types</label>
        <input type="text" class="form-control" id="mtTypes" placeholder="e.g., Dragon,Flying">
        <div class="type-auto-info" id="mtTypeAutoFill"></div>
      </div>
      <div class="form-group checkbox-grid">
        <label class="checkbox-label"><input type="checkbox" id="mtShiny"> âœ¨ Shiny</label>
        <label class="checkbox-label"><input type="checkbox" id="mtLegacy"> Â£ Legacy Move</label>
      </div>
      <div class="form-group">
        <label>Notes</label>
        <input type="text" class="form-control" id="mtNotes" placeholder="e.g., New shiny from CD">
      </div>
      <button type="submit" class="btn">ğŸ’¾ Save</button>
    </form>
  </div>
</div>

<!-- Lucky Friend Modal -->
<div id="addLuckyFriendModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal('addLuckyFriendModal')">&times;</span>
    <h2 id="luckyFriendModalTitle">Add Lucky Friend</h2>
    <form id="luckyFriendForm" onsubmit="saveLuckyFriend(event)">
      <input type="hidden" id="lfEditIndex" value="">
      <div class="form-group">
        <label>Friend Name *</label>
        <input type="text" class="form-control" id="lfFriend" required>
      </div>
      <div class="form-group">
        <label>They Want</label>
        <input type="text" class="form-control" id="lfTheyWant" placeholder="Pokemon they're looking for">
      </div>
      <div class="form-group">
        <label>You Want</label>
        <input type="text" class="form-control" id="lfYouWant" placeholder="Pokemon you're looking for">
      </div>
      <div class="form-group">
        <label>Status</label>
        <select class="form-control" id="lfStatus">
          <option value="Planned">Planned</option>
          <option value="Waiting">Waiting</option>
          <option value="Complete">Complete</option>
        </select>
      </div>
      <div class="form-group">
        <label class="checkbox-label"><input type="checkbox" id="lfReady"> âœ… Ready to Trade</label>
      </div>
      <div class="form-group">
        <label>Notes</label>
        <input type="text" class="form-control" id="lfNotes" placeholder="e.g., This weekend">
      </div>
      <button type="submit" class="btn">ğŸ’¾ Save</button>
    </form>
  </div>
</div>

<script src="app.js"></script>
</body>
</html>
